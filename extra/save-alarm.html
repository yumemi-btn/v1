<meta charset="utf-8">
<title>„Åè„ÇÇ„ÅÆ‰∏ä„É¶„É°„Éü„Ç¢„É©„Éº„É†</title>

<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="„Åè„ÇÇ„ÅÆ‰∏ä„É¶„É°„Éü„Ç¢„É©„Éº„É†">
<meta name="twitter:image" content="https://yumemi-btn.github.io/v1/assets/card.png">

<link rel="icon" href="https://yumemi-btn.github.io/v1/assets/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="https://yumemi-btn.github.io/v1/assets/apple-touch-icon.png">
<script src="//cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/howler/2.1.3/howler.min.js" integrity="sha256-/Q4ZPy6sMbk627wHxuaWSIXS1y7D2KnMhsm/+od7ptE=" crossorigin="anonymous"></script>

<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
    body {
        font-family: "Segoe UI", Meiryo, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        color: rgb(20, 23, 26);
        background-color: #27BBC8;
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
    }

    a {
        text-decoration: none;
        color: inherit;
    }

    select {
        border: none;
        border-bottom: 1px solid #27BBC8;
        font-size: inherit;
    }

    #app {
        background-color: #fff;
        padding: 15px;
        margin: auto;
        position: relative;
    }

    .profile {
        display: flex;
        font-size: 15px;
    }

    .profile>.icon {
        margin: 0 5px;
    }

    .profile>.icon img {
        border-radius: 100%;
        height: 49px;
        width: 49px;
    }

    .profile>.name {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
        margin: 0 5px;
        line-height: 1.2em;
    }

    .profile>.name>.display_name {
        font-weight: bold;
    }

    .profile>.name>.user_name {
        color: rgb(101, 119, 134);
    }

    .content {
        margin: 10px 0;
        font-size: 23px;
    }

    .footer>.date {
        color: rgb(101, 119, 134);
        font-size: 15px;
    }

    .notice {
        position: absolute;
        left: 0;
        right: 0;
        bottom: -4em;
        line-height: 1em;
        background-color: #fff;
        padding: 1em;
        color: rgb(101, 119, 134);
        opacity: 0;
        transition: .3s opacity;
    }

    .notice.display {
        opacity: 1;
    }

</style>

<div id="app">
    <div class="profile">
        <div class="icon">
            <a href="https://twitter.com/Kumonoue_Yumemi/" target="_blank"><img src="./twitter_icon.jpg"></a>
        </div>
        <div class="name">
            <div class="display_name"><a href="https://twitter.com/Kumonoue_Yumemi/" target="_blank">„Åè„ÇÇ„ÅÆ‰∏ä„É¶„É°„Éüüí≠</a></div>
            <div class="user_name"><a href="https://twitter.com/Kumonoue_Yumemi/" target="_blank">@Kumonoue_Yumemi</a></div>
        </div>
    </div>
    <div class="content">
        <select name="interval" v-model="interval" v-bind:style="`width: ${interval.name?.length + 0.5}em`">
            <option v-for="interval in intervals" v-bind:value="interval">{{ interval.name }}</option>
        </select>
        ÁΩÆ„Åç„Å´ÔΩ¢
        <select name="sound" v-model="sound" v-bind:style="`width: ${sound.name?.length + 1}em`">
            <option v-for="sound in sounds" v-bind:value="sound">{{ sound.name }}</option>
        </select>
        ÔΩ£„Å®ËÅû„ÅÑ„Å¶„Åè„Çå„Çã„Åè„ÇÇ„ÅÆ‰∏ä„É¶„É°„Éü„Ç¢„É©„Éº„É†
    </div>
    <div class="footer">
        <div class="date"><a href="https://twitter.com/Kumonoue_Yumemi/status/1262793723559067648" target="_blank">ÂçàÂâç2:14 ¬∑ 2020Âπ¥5Êúà20Êó•</a></div>
    </div>

    <div class="notice" v-bind:class="{ display: this.notice.display }">{{ notice.message }}</div>
</div>

<script>
    const app = new Vue({
        el: '#app',
        data: {
            interval: { name: '30ÂàÜ', value: 30 * 60 * 1000 },
            sound: { name: '„ÅÑ„ÉºÊÑü„ÅòÔºü', filepath: '/v1/sounds/200514/72-„ÅÑ„ÉºÊÑü„ÅòÔºü.m4a' },
            intervals: [
                { name: '1ÊôÇÈñì', value: 1 * 60 * 60 * 1000 },
                { name: '30ÂàÜ', value: 30 * 60 * 1000 },
                { name: '5ÂàÜ', value: 5 * 60 * 1000 },
                { name: '1ÂàÜ', value: 1 * 60 * 1000 },
                { name: '30Áßí', value: 30 * 1000 },
                { name: '5Áßí', value: 5 * 1000 },
                { name: '1Áßí', value: 1 * 1000 },
                { name: '0.5Áßí', value: 0.5 * 1000 },
                { name: '0.25Áßí', value: 0.25 * 1000 },
                { name: '0.1Áßí', value: 0.1 * 1000 },
            ],
            sounds: [
                { name: '„ÅÑ„ÉºÊÑü„ÅòÔºü', filepath: '/v1/sounds/200514/72-„ÅÑ„ÉºÊÑü„ÅòÔºü.m4a' },
                { name: '„Åà „Å©„ÅÜ„Å©„ÅÜ„Å©„ÅÜ„Å©„ÅÜ „ÅÑ„ÅÑÊÑü„ÅòÔºü', filepath: '/v1/sounds/200423/10-„Åà%20„Å©„ÅÜ„Å©„ÅÜ„Å©„ÅÜ„Å©„ÅÜ%20„ÅÑ„ÅÑÊÑü„ÅòÔºü.m4a' },
                { name: '„É¶„É°„Éü„ÇÇË≤†„Åë„Å™„ÅÑ„ÅåÔºü', filepath: '/v1/sounds/200429/12-„É¶„É°„Éü„ÇÇË≤†„Åë„Å™„ÅÑ„ÅåÔºü.m4a' },
                { name: '‰∏äÊâã„Å´Âá∫Êù•„Åæ„Åó„Åü„ÅãÔºü', filepath: '/v1/sounds/200429/96-‰∏äÊâã„Å´Âá∫Êù•„Åæ„Åó„Åü„ÅãÔºü.m4a' },
                { name: 'Ëµ∑„Åç„Å¶„ÇãÔºü', filepath: '/v1/sounds/200423/180-Ëµ∑„Åç„Å¶„ÇãÔºü.m4a' },
                { name: '„Åà„Åæ„Å†Ëµ∑„Åç„Å¶„Çã„ÉºÔºü', filepath: '/v1/sounds/200423/182-„Åà„Åæ„Å†Ëµ∑„Åç„Å¶„Çã„ÉºÔºü.m4a' },
                { name: 'ÂèØÊÑõ„Åã„Å£„ÅüÔΩû„ÅÅÔºü', filepath: '/v1/sounds/200505/06-ÂèØÊÑõ„Åã„Å£„ÅüÔΩû„ÅÅÔºü.m4a' },
                { name: 'ËÅû„Åì„Åà„Å¶„Åæ„Åô„Åã„ÉºÔºü', filepath: '/v1/sounds/200514/247-ËÅû„Åì„Åà„Å¶„Åæ„Åô„Åã„ÉºÔºü.m4a' },
                { name: '„Åù„Çå„ÅØ„Éê„Ç´„Å™„ÅÆ„Åß„ÅØÔºü', filepath: '/v1/sounds/200423/383-„Åù„Çå„ÅØ„Éê„Ç´„Å™„ÅÆ„Åß„ÅØÔºü.m4a' },
                { name: '„ÇÇ„ÅÜ‰∏ÄÂõûÂá∫Êù•„ÇãÔºü', filepath: '/v1/sounds/200429/72-„ÇÇ„ÅÜ‰∏ÄÂõûÂá∫Êù•„ÇãÔºü.m4a' },
                { name: '„ÅäÂâçÈ†≠„Åè„Çã„Å£„Å®„Çì„ÅãÔºü', filepath: '/v1/sounds/200429/54-„ÅäÂâçÈ†≠„Åè„Çã„Å£„Å®„Çì„ÅãÔºü.m4a' },
                { name: '„Åñ„Åì„Åß„Åô„ÇÇ„Çì„Å≠Ôºü', filepath: '/v1/sounds/200429/87-„Åñ„Åì„Åß„Åô„ÇÇ„Çì„Å≠Ôºü.m4a' },
                { name: 'Á´•Ë≤û„Åï„ÇìÔºü', filepath: '/v1/sounds/200505/31-Á´•Ë≤û„Åï„ÇìÔºü(„Éâ„Çπ„ÅÆÂà©„ÅÑ„ÅüÂ£∞).m4a' },
            ],
            timer: null,
            notice: {
                message: '',
                display: false,
                timer: null,
            }
        },
        watch: {
            interval: function () {
                this.notify("ÈñìÈöî„ÅåÂ§âÊõ¥„Åï„Çå„Åü„ÅÆ„Åß„ÄÅ„Çø„Ç§„Éû„Éº„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åó„ÅüÔºÅ")
                this.startTimer()
            }
        },
        mounted: function () {
            this.startTimer()
        },
        methods: {
            playSound: function () {
                (new Howl({ src: this.sound.filepath })).play()
            },
            startTimer: function () {
                if (!this.interval) { return }
                clearTimeout(this.timer)
                this.timer = setInterval(this.playSound, this.interval.value)
            },
            notify: function (message) {
                clearTimeout(this.notice.timer)
                this.notice.message = message
                this.notice.display = true
                this.notice.timer = setTimeout(() => { this.notice.display = false }, 5000)
            }
        }
    })
</script>
